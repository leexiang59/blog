(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},218:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(22),o=a.n(i),r=a(7),l=a(8),s=a(10),u=a(9),m=a(11),d=a(223),h=a(225),p=a(224),f=(a(94),a(222)),v=(a(96),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={navList:[{title:"ABOUT",href:"/"},{title:"RESUME",href:"/resume"},{title:"BLOG",href:"/blog"},{title:"CONTACT",href:"/contact"}]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.navList;return c.a.createElement("header",{className:"header"},c.a.createElement("ul",null,e.map(function(e,t){return c.a.createElement("li",{key:t+""},c.a.createElement(f.a,{to:e.href},e.title))})))}}]),t}(n.Component)),E=a(87),b=(a(100),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).valueChange=function(e,t){a.setState(Object(E.a)({},e,t))},a.loginHandle=function(){var e=a.state,t=e.userName,n=e.password;fetch("/api/user/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({name:t,password:n})}).then(function(e){return e.json()}).then(function(e){0===e.status&&window.location.reload()})},a.state={showLogin:!1,userName:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userInfo,a=this.state,n=a.showLogin,i=a.userName,o=a.password;return c.a.createElement("div",{className:"about"},n?c.a.createElement("div",{className:"login-form"},c.a.createElement("input",{type:"text",value:i,onChange:function(t){return e.valueChange("userName",t.target.value)}}),c.a.createElement("input",{type:"password",value:o,onChange:function(t){return e.valueChange("password",t.target.value)}}),c.a.createElement("button",{onClick:this.loginHandle},"Go")):c.a.createElement("div",{className:"logo logo-".concat(t?"login":"logout"),onClick:function(){e.setState({showLogin:!0})}}),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Name\uff1aWill"),c.a.createElement("p",null,"Country\uff1aChina")))}}]),t}(n.Component)),g=(a(102),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"resume"},"Resume")}}]),t}(n.Component)),j=(a(104),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={articleList:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/article/list").then(function(e){return e.json()}).then(function(t){0===t.status&&e.setState({articleList:t.data})})}},{key:"render",value:function(){var e=this.state.articleList;return c.a.createElement("div",{className:"blog"},c.a.createElement("div",{className:"list"},c.a.createElement("div",{className:"add-blog"},c.a.createElement(f.a,{to:"/blog/edit"},"Add")),e.map(function(e,t){return c.a.createElement("div",{key:t,className:"article-item"},c.a.createElement(f.a,{to:"/blog/".concat(e.id)},c.a.createElement("h3",{className:"title"},e.title),c.a.createElement("p",{className:"message"},c.a.createElement("span",null,e.createTime)),c.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:e.content}})))})))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).deleteHandle=function(){fetch("/api/article/delete",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({id:a.state.id})}).then(function(e){return e.json()}).then(function(e){0===e.status&&a.props.history.push("/blog/")})},a.state={articleDetail:{},id:a.props.match&&a.props.match.params?a.props.match.params.id-0:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/article/list/".concat(this.state.id)).then(function(e){return e.json()}).then(function(t){0===t.status&&e.setState({articleDetail:t.data[0]})})}},{key:"render",value:function(){var e=this.state,t=e.articleDetail,a=e.id;return c.a.createElement("div",{className:"blog"},c.a.createElement("div",{className:"detail"},c.a.createElement("h1",{className:"title"},t.title),c.a.createElement("p",{className:"btn-operate"},9!==a&&c.a.createElement("button",{className:"btn-delete",onClick:this.deleteHandle},"Delete"),c.a.createElement(f.a,{to:"/blog/edit/".concat(t.id)},c.a.createElement("button",{className:"btn-edit"},"Edit"))),c.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.content}})))}}]),t}(n.Component),y=a(40),N=a.n(y),C=(a(216),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).titleChange=function(e){a.setState({title:e.target.value})},a.handleEditorChange=function(e){a.setState({editorState:e})},a.saveHandle=function(e){var t=a.state,n=t.id,c=t.title,i=t.editorState;fetch("/api/article/".concat(n?"update":"add"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({id:n||void 0,title:c,content:i.toHTML()})}).then(function(e){return e.json()}).then(function(t){0===t.status&&("btn"===e?a.props.history.push("/blog/".concat(n||t.data.id||"")):(a.props.history.push("/blog/edit/".concat(t.data.id)),a.props.history.goBack()))})},a.saveEditorContentByKey=function(){a.saveHandle("key")},a.saveEditorContent=function(){a.saveHandle("btn")},a.fetchArticle=function(e){fetch("/api/article/list/".concat(e)).then(function(e){return e.json()}).then(function(e){if(0===e.status){var t=e.data[0];a.setState({articleData:t,title:t.title,editorState:N.a.createEditorState(t.content)})}})},a.state={id:a.props.match&&a.props.match.params?a.props.match.params.id:null,articleData:null,title:"",editorState:N.a.createEditorState(null)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.id;e&&this.fetchArticle(e)}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.editorState;return c.a.createElement("div",{className:"blog"},c.a.createElement("div",{className:"edit"},c.a.createElement("div",{className:"edit-content"},c.a.createElement("div",{className:"edit-item"},c.a.createElement("p",null,"Title\uff1a"),c.a.createElement("input",{className:"title",value:t,onChange:this.titleChange})),c.a.createElement("div",{className:"edit-item"},c.a.createElement("p",null,"Content\uff1a"),c.a.createElement("div",{className:"article-braft-edit"},c.a.createElement(N.a,{value:a,onChange:this.handleEditorChange,onSave:this.saveEditorContentByKey}))),c.a.createElement("div",{className:"edit-item item-submit"},c.a.createElement("button",{className:"submit",onClick:this.saveEditorContent},"Save")))))}}]),t}(n.Component)),S=(a(218),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"contact"},"Email\uff1a",c.a.createElement("a",{href:"mailto:980901387@qq.com"},"980901387@qq.com"))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={userInfo:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",credentials:"include"};fetch("/api/user/user_info",t).then(function(e){return e.json()}).then(function(a){console.log(t),0===a.status&&e.setState({userInfo:a.data})})}},{key:"render",value:function(){var e=this.state.userInfo;return c.a.createElement("div",null,c.a.createElement(d.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(v,null),c.a.createElement(h.a,{exact:!0,path:"/",component:function(){return c.a.createElement(b,{userInfo:e})}}),c.a.createElement(h.a,{path:"/resume",component:g}),c.a.createElement(p.a,null,c.a.createElement(h.a,{path:"/blog/edit/:id",component:C}),c.a.createElement(h.a,{path:"/blog/edit",component:C}),c.a.createElement(h.a,{path:"/blog/:id",component:O}),c.a.createElement(h.a,{exact:!0,path:"/blog",component:j})),c.a.createElement(h.a,{path:"/contact",component:S}),c.a.createElement("footer",null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,a){e.exports=a(221)},94:function(e,t,a){},96:function(e,t,a){}},[[89,2,1]]]);
//# sourceMappingURL=main.bb1bf0f9.chunk.js.map