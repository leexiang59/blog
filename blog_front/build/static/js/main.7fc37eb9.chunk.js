(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},220:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(22),c=a.n(i),r=a(5),l=a(6),s=a(8),u=a(7),m=a(9),d=a(225),h=a(227),p=a(226),f=(a(96),function(e,t){return function(a){function n(){return Object(r.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){document.getElementsByTagName("title")[0].text=t}},{key:"render",value:function(){return o.a.createElement(e,null)}}]),n}(n.Component)}),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?o.a.createElement("div",null,o.a.createElement("h2",null,"Something went wrong."),o.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),o.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}]),t}(n.Component),b=a(224),E=(a(98),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={navList:[{title:"ABOUT",href:"/"},{title:"RESUME",href:"/resume"},{title:"BLOG",href:"/blog"},{title:"CONTACT",href:"/contact"}]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.navList;return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:"header"},o.a.createElement("ul",null,e.map(function(e,t){return o.a.createElement("li",{key:t+""},o.a.createElement(b.a,{to:e.href},e.title))}))))}}]),t}(n.Component)),g=a(38),O=(a(102),a(89)),j={version:"v1",user:"/v1/user/",article:"/v1/article/"},y={sendErrorToWX:function(e,t){fetch("https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=73ede3e3-e70b-4bb7-9f23-21ce41b09e10",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({msgtype:"markdown",markdown:{content:"#### \u9519\u8bef\u4fe1\u606f \n\n  >".concat(JSON.stringify(e)," \n >\u63a5\u53e3\uff1a").concat(t)}})})},fetchLite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,a=e.options,n=void 0===a?{}:a,o=e.done,i=void 0===o?function(){}:o,c=e.fail,r=void 0===c?function(e){}:c,l=e.error,s=void 0===l?function(e){console.log(e)}:l,u=new Promise(function(e,t){setTimeout(function(){t({state:408,msg:"\u8bf7\u6c42\u8d85\u65f6"})},3e3)}),m=new Promise(function(e,a){fetch(-1===window.location.hostname.indexOf("localhost")?"//api.willli.top".concat(t):t,Object(O.a)({method:"GET",mode:"cors",credentials:"include"},n)).then(function(t){200===t.status?e(t.json()):a({state:t.status,msg:"\u7f51\u7edc\u9519\u8bef"})})});return Promise.race([m,u]).then(function(e){0===e.state?i&&i(e):(r&&r(e),e.state)}).catch(function(e){s&&s(e)})}},C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).valueChange=function(e,t){a.setState(Object(g.a)({},e,t))},a.logoutHandle=function(){y.fetchLite({url:"".concat(j.user,"logout"),done:function(e){window.location.reload()}})},a.loginHandle=function(){var e=a.state,t=e.userName,n=e.password;y.fetchLite({url:"".concat(j.user,"login"),options:{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({name:t,password:n})},done:function(e){window.location.reload()}})},a.state={showLogin:!1,userName:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.userInfo,a=this.state,n=a.showLogin,i=a.userName,c=a.password;return o.a.createElement("div",{className:"about"},n?t?o.a.createElement("button",{onClick:this.logoutHandle},"Logout"):o.a.createElement("div",{className:"login-form"},o.a.createElement("input",{type:"text",value:i,onChange:function(t){return e.valueChange("userName",t.target.value)}}),o.a.createElement("input",{type:"password",value:c,onChange:function(t){return e.valueChange("password",t.target.value)}}),o.a.createElement("button",{onClick:this.loginHandle},"Go")):o.a.createElement("div",{className:"logo logo-".concat(t?"login":"logout"),onClick:function(){e.setState({showLogin:!0})}}),o.a.createElement("div",{className:"info"},o.a.createElement("p",null,"Name\uff1aWill"),o.a.createElement("p",null,"Country\uff1aChina")))}}]),t}(n.Component),N=(a(104),a(55)),w=a.n(N),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).pdfLoaded=function(){},a.noSupportPDF=function(){return o.a.createElement("p",{className:"no-support-pdf"},"This browser does not support PDFs. Please view the PDF\uff1a",o.a.createElement("a",{href:"http://www.willli.top/static/media/resume_will.60e513de.pdf"},"here"),".")},a.state={platform:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={win:!1,mac:!1,xll:!1,app:!1},t=navigator.platform;e.win=0===t.indexOf("Win"),e.mac=0===t.indexOf("Mac"),e.x11="X11"===t||0===t.indexOf("Linux"),e.win||e.mac||e.xll?e.app=!1:e.app=!0,this.setState({platform:e})}},{key:"render",value:function(){var e=this.state.platform;return o.a.createElement("div",{className:"resume"},e.app?this.noSupportPDF():o.a.createElement("div",{className:"resume-cont"},o.a.createElement("div",{className:"pdf-loading"},"Loading..."),o.a.createElement("object",{data:w.a,type:"application/pdf",style:{margin:"0 auto"}},o.a.createElement("iframe",{src:w.a,type:"application/pdf",title:"Resume of Will",style:{border:"none"},onLoad:this.pdfLoaded}),this.noSupportPDF())))}}]),t}(n.Component),k=Object(n.createContext)(),L=k.Provider,T=k.Consumer,D=function(e){return function(t){return o.a.createElement(T,null,function(a){return o.a.createElement(e,Object.assign({},t,{userInfo:a}))})}},H=(a(106),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={articleList:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.fetchLite({url:"".concat(j.article,"list"),done:function(t){e.setState({articleList:t.data})}})}},{key:"render",value:function(){var e=this.state.articleList,t=this.props.userInfo;return o.a.createElement("div",{className:"blog"},o.a.createElement("div",{className:"list"},t&&o.a.createElement("div",{className:"add-blog"},o.a.createElement(b.a,{to:"/blog/add"},"Add")),e.map(function(e,t){return o.a.createElement("div",{key:t,className:"article-item"},o.a.createElement(b.a,{to:"/blog/".concat(e.id)},o.a.createElement("h3",{className:"title"},e.title),o.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:e.content}})))})))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).deleteHandle=function(){y.fetchLite({url:"".concat(j.article,"delete"),options:{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({id:a.state.id})},done:function(){a.props.history.push("/blog/")}})},a.state={articleDetail:{},id:a.props.match&&a.props.match.params?a.props.match.params.id-0:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.fetchLite({url:"".concat(j.article,"list/").concat(this.state.id),done:function(t){e.setState({articleDetail:t.data[0]})}})}},{key:"render",value:function(){var e=this.state,t=e.articleDetail,a=e.id,n=this.props.userInfo;return o.a.createElement("div",{className:"blog"},t&&o.a.createElement("div",{className:"detail"},o.a.createElement("h1",{className:"title"},t.title),n&&o.a.createElement("p",{className:"btn-operate"},9!==a&&o.a.createElement("button",{className:"btn-delete",onClick:this.deleteHandle},"Delete"),o.a.createElement(b.a,{to:"/blog/edit/".concat(t.id)},o.a.createElement("button",{className:"btn-edit"},"Edit"))),o.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.content}})))}}]),t}(n.Component),I=a(56),P=a.n(I),M=(a(218),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleEditorChange=function(e){a.setState({editorState:e}),a.props.editorChange(e)},a.saveEditorContentByKey=function(){a.props.saveHandle("key")},a.state={articleData:null,editorState:P.a.createEditorState(a.props.value||null)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.editorState;return o.a.createElement("div",{className:"article-braft-edit"},o.a.createElement(P.a,{value:e,onChange:this.handleEditorChange,onSave:this.saveEditorContentByKey}))}}]),t}(n.Component)),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).titleChange=function(e){a.setState({title:e.target.value})},a.editorChange=function(e){a.setState({articleData:e})},a.saveHandle=function(e){var t=a.state,n=t.id,o=t.title,i=t.articleData;y.fetchLite({url:"".concat(j.article,"update"),options:{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({id:n,title:o,content:i.toHTML()})},done:function(t){"btn"===e&&a.props.history.push("/blog/".concat(n||t.data.id||""))}})},a.saveEditorContent=function(){a.saveHandle("btn")},a.fetchArticle=function(e){y.fetchLite({url:"".concat(j.article,"list/").concat(e),done:function(e){var t=e.data[0];a.setState({title:t.title,articleData:t.content})}})},a.state={id:a.props.match&&a.props.match.params?a.props.match.params.id:null,articleData:null,title:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.id;e&&this.fetchArticle(e)}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.articleData;return o.a.createElement("div",{className:"blog"},o.a.createElement("div",{className:"edit"},o.a.createElement("div",{className:"edit-content"},o.a.createElement("div",{className:"edit-item"},o.a.createElement("p",null,"Title\uff1a"),o.a.createElement("input",{className:"title",value:t,onChange:this.titleChange})),o.a.createElement("div",{className:"edit-item"},o.a.createElement("p",null,"Content\uff1a"),null===a||void 0===a?"":o.a.createElement(M,{value:a,saveHandle:this.saveHandle,editorChange:this.editorChange})),o.a.createElement("div",{className:"edit-item item-submit"},o.a.createElement("button",{className:"submit",onClick:this.saveEditorContent},"Save")))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).titleChange=function(e){a.setState({title:e.target.value})},a.editorChange=function(e){a.setState({articleData:e})},a.saveHandle=function(e){var t=a.state,n=t.title,o=t.articleData;y.fetchLite({url:"".concat(j.article,"add"),options:{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({title:n,content:o.toHTML()})},done:function(t){"btn"===e?a.props.history.push("/blog/".concat(t.data.id||"")):a.props.history.push("/blog/edit/".concat(t.data.id))}})},a.saveEditorContent=function(){a.saveHandle("btn")},a.state={title:"",articleData:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.title;return o.a.createElement("div",{className:"blog"},o.a.createElement("div",{className:"edit"},o.a.createElement("div",{className:"edit-content"},o.a.createElement("div",{className:"edit-item"},o.a.createElement("p",null,"Title\uff1a"),o.a.createElement("input",{className:"title",value:e,onChange:this.titleChange})),o.a.createElement("div",{className:"edit-item"},o.a.createElement("p",null,"Content\uff1a"),o.a.createElement(M,{saveHandle:this.saveHandle,editorChange:this.editorChange})),o.a.createElement("div",{className:"edit-item item-submit"},o.a.createElement("button",{className:"submit",onClick:this.saveEditorContent},"Save")))))}}]),t}(n.Component),q=D(H),A=D(x),B=D(F),U=D(J),W=(a(220),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"contact"},"Email\uff1a",o.a.createElement("a",{href:"mailto:980901387@qq.com"},"980901387@qq.com"))}}]),t}(n.Component)),_=f(C,"About"),G=f(S,"Resume"),R=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={userInfo:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.fetchLite({url:"".concat(j.user,"user_info"),done:function(t){e.setState({userInfo:t.data})}})}},{key:"render",value:function(){var e=this.state.userInfo;return o.a.createElement(v,null,o.a.createElement(L,{value:e},o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(E,null),o.a.createElement(h.a,{exact:!0,path:"/",component:function(){return o.a.createElement(_,{userInfo:e})}}),o.a.createElement(h.a,{path:"/resume",component:G}),o.a.createElement(p.a,null,o.a.createElement(h.a,{path:"/blog/edit/:id",component:B}),o.a.createElement(h.a,{path:"/blog/edit",component:B}),o.a.createElement(h.a,{path:"/blog/add",component:U}),o.a.createElement(h.a,{path:"/blog/:id",component:A}),o.a.createElement(h.a,{exact:!0,path:"/blog",component:q})),o.a.createElement(h.a,{path:"/contact",component:W}),o.a.createElement("footer",null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports=a.p+"static/media/resume_will.60e513de.pdf"},91:function(e,t,a){e.exports=a(223)},96:function(e,t,a){},98:function(e,t,a){}},[[91,2,1]]]);
//# sourceMappingURL=main.7fc37eb9.chunk.js.map